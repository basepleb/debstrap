git clone --recursive https://github.com/zimfw/zimfw.git ${STOW_DIR}/zsh/.zim
git clone https://github.com/romkatv/powerlevel10k ${STOW_DIR}/zsh/.zim/modules/prompt/external-themes/powerlevel10k
git clone https://github.com/robbyrussell/oh-my-zsh/ ${STOW_DIR}/zsh/.oh-my-zsh
git clone https://github.com/tmux-plugins/tpm "${STOW_DIR}/tmux/.tmux/plugins/tpm"
git clone https://github.com/VundleVim/Vundle.vim.git "${STOW_DIR}/vim/.vim/bundle/Vundle.vim"

# create protected directories to prevent stow symlinking #

mkdir ${HOME}/.config

ln -s ${STOW_DIR}/zsh/.zim/modules/prompt/external-themes/powerlevel10k/powerlevel10k.zsh-theme ${STOW_DIR}/zsh/.zim/modules/prompt/functions/prompt_powerlevel10k_setup

sudo mv /etc/dhcpcd.conf /etc/dhcpcd.conf.bak
sudo mv /etc/dnsmasq.conf /etc/dnsmasq.conf.bak
sudo mv /etc/dhcp/dhcpd.conf /etc/dhcp/dhcpd.conf.bak
sudo mv /etc/network/interfaces /etc/network/interfaces.bak
sudo mv /etc/hostapd/hostapd.conf /etc/hostapd/hostapd.conf.bak
sudo sed -i 's/^#DAEMON_CONF=""/DAEMON_CONF="\/etc\/hostapd\/hostapd.conf"/' /etc/default/hostapd
sudo sed -i 's/^#DAEMON_OPTS=""/DAEMON_OPTS="-d"/' /etc/default/hostapd
sudo sed -i 's/^#net.ipv4.ip_forward/net.ipv4.ip_forward/' /etc/sysctl.conf
sudo sed -i 's/^INTERFACESv4=""/INTERFACESv4="wlan0"/' /etc/default/isc-dhcp-server
sudo systemctl daemon-reload